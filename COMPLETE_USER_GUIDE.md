# ğŸ‰ Há»† THá»NG HOÃ€N THIá»†N - HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG

## âœ… Cáº¬P NHáº¬T Má»šI NHáº¤T (Feb 11, 2026)

### ğŸ” **Há»† THá»NG ÄÄ‚NG NHáº¬P ÄÃƒ HOáº T Äá»˜NG!**

Há»‡ thá»‘ng giá» Ä‘Ã£ cÃ³ **Ä‘Äƒng nháº­p vá»›i 4 tÃ i khoáº£n test**:

| TÃªn Ä‘Äƒng nháº­p | Máº­t kháº©u | Vai trÃ² | Email |
|---------------|----------|---------|-------|
| **admin** | admin123 | Admin | admin@onecad.vn |
| **manager** | manager123 | BIM Manager | an.nguyen@onecad.vn |
| **coordinator** | coord123 | BIM Coordinator | binh.tran@onecad.vn |
| **modeler** | model123 | BIM Modeler | cuong.le@onecad.vn |

---

## ğŸš€ TRUY Cáº¬P Há»† THá»NG

### Development URL (Äang hoáº¡t Ä‘á»™ng):
**https://3000-il1ec2okaahgchy9k3855-cbeee0f9.sandbox.novita.ai**

1. Má»Ÿ URL trÃªn
2. Báº¡n sáº½ tháº¥y **mÃ n hÃ¬nh Ä‘Äƒng nháº­p Ä‘áº¹p máº¯t** vá»›i logo OneCad
3. Chá»n má»™t trong 4 tÃ i khoáº£n test (xem báº£ng trÃªn)
4. Click "ÄÄƒng nháº­p"
5. Há»‡ thá»‘ng sáº½ chuyá»ƒn Ä‘áº¿n Dashboard

---

## ğŸ“‹ ÄÃƒ Sá»¬A Lá»–I & Cáº¢I TIáº¾N

### âœ… ÄÃ£ hoÃ n thÃ nh:

1. **âœ… Fix lá»—i export trong modals.js**
   - ÄÃ£ chuyá»ƒn tá»« ES6 `export` sang `window` object
   - Modals giá» load vÃ  hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng

2. **âœ… ThÃªm há»‡ thá»‘ng Ä‘Äƒng nháº­p**
   - Login screen chuyÃªn nghiá»‡p vá»›i logo OneCad
   - 4 tÃ i khoáº£n test vá»›i roles khÃ¡c nhau
   - User info hiá»ƒn thá»‹ á»Ÿ header
   - NÃºt Ä‘Äƒng xuáº¥t trong user menu

3. **âœ… TÃ­ch há»£p localStorage authentication**
   - Session Ä‘Æ°á»£c lÆ°u trong trÃ¬nh duyá»‡t
   - Tá»± Ä‘á»™ng redirect vá» login náº¿u chÆ°a Ä‘Äƒng nháº­p
   - Hiá»ƒn thá»‹ thÃ´ng tin user sau khi Ä‘Äƒng nháº­p

4. **âœ… Database Ä‘Ã£ cÃ³ data Ä‘áº§y Ä‘á»§**
   - 3 dá»± Ã¡n máº«u
   - 8 nhÃ¢n sá»±
   - 9 nhiá»‡m vá»¥
   - 10 timesheet records
   - 10 giao dá»‹ch thu chi
   - 7 loáº¡i chi phÃ­

---

## ğŸ¯ HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG CHI TIáº¾T

### 1. **ÄÄƒng Nháº­p**

**BÆ°á»›c 1:** Truy cáº­p URL development  
**BÆ°á»›c 2:** Nháº­p username vÃ  password (vÃ­ dá»¥: `admin` / `admin123`)  
**BÆ°á»›c 3:** Click "ÄÄƒng nháº­p"

**Káº¿t quáº£:** Báº¡n sáº½ tháº¥y Dashboard vá»›i:
- Tá»•ng sá»‘ dá»± Ã¡n, nhÃ¢n sá»±, nhiá»‡m vá»¥
- Lá»£i nhuáº­n hiá»‡n táº¡i
- Biá»ƒu Ä‘á»“ tráº¡ng thÃ¡i dá»± Ã¡n vÃ  nhiá»‡m vá»¥

---

### 2. **Dashboard**

Sau khi Ä‘Äƒng nháº­p, báº¡n sáº½ tháº¥y Dashboard vá»›i cÃ¡c thÃ´ng tin:

ğŸ“Š **Stats Cards:**
- **Tá»•ng Dá»± Ã¡n:** 3 dá»± Ã¡n
- **Tá»•ng NhÃ¢n sá»±:** 8 nhÃ¢n viÃªn
- **Nhiá»‡m vá»¥ Ä‘ang lÃ m:** 5 tasks
- **Lá»£i nhuáº­n:** 4.16 tá»· VNÄ

ğŸ“ˆ **Charts:**
- **Biá»ƒu Ä‘á»“ tráº¡ng thÃ¡i dá»± Ã¡n** (Planning, Design Basic, Design Technical, Construction, Completed)
- **Biá»ƒu Ä‘á»“ tráº¡ng thÃ¡i nhiá»‡m vá»¥** (Todo, In Progress, Review, Completed)

---

### 3. **Quáº£n lÃ½ Dá»± Ã¡n**

**Click "Quáº£n lÃ½ Dá»± Ã¡n" trong sidebar**

ğŸ“‹ **Danh sÃ¡ch dá»± Ã¡n hiá»‡n cÃ³:**
1. Vinhomes Ocean Park 3 - Dá»± Ã¡n phá»©c há»£p cÄƒn há»™ cao cáº¥p
2. Metro Line 5 Phase 1 - Tuyáº¿n Metro sá»‘ 5
3. Bá»‡nh viá»‡n Äa khoa Quá»‘c táº¿ - Bá»‡nh viá»‡n 500 giÆ°á»ng

**Má»—i dá»± Ã¡n hiá»ƒn thá»‹:**
- TÃªn, mÃ£ dá»± Ã¡n
- Chá»§ Ä‘áº§u tÆ°
- GiÃ¡ trá»‹ há»£p Ä‘á»“ng
- Chi phÃ­ dá»± toÃ¡n
- Tráº¡ng thÃ¡i (Planning â†’ Design Basic â†’ Design Technical â†’ Construction â†’ Completed)
- Quáº£n lÃ½ dá»± Ã¡n

â• **ThÃªm dá»± Ã¡n má»›i:**
1. Click nÃºt "â• ThÃªm Dá»± Ã¡n"
2. Modal sáº½ hiá»‡n lÃªn
3. Äiá»n thÃ´ng tin:
   - TÃªn dá»± Ã¡n *
   - MÃ£ dá»± Ã¡n *
   - Chá»§ Ä‘áº§u tÆ° *
   - Äá»‹a Ä‘iá»ƒm
   - NgÃ y báº¯t Ä‘áº§u / NgÃ y káº¿t thÃºc
   - GiÃ¡ trá»‹ há»£p Ä‘á»“ng
   - Chi phÃ­ dá»± toÃ¡n
   - Chá»n ngÆ°á»i quáº£n lÃ½
   - Tráº¡ng thÃ¡i
4. Click "ThÃªm"

---

### 4. **Quáº£n lÃ½ NhÃ¢n sá»±**

**Click "Quáº£n lÃ½ NhÃ¢n sá»±" trong sidebar**

ğŸ‘¥ **Danh sÃ¡ch nhÃ¢n sá»± hiá»‡n cÃ³:**
- Nguyá»…n VÄƒn An - BIM Manager (150,000 VNÄ/giá»)
- Tráº§n Thá»‹ BÃ¬nh - BIM Coordinator (120,000 VNÄ/giá»)
- LÃª VÄƒn CÆ°á»ng - Senior BIM Modeler (100,000 VNÄ/giá»)
- Pháº¡m Thá»‹ Dung - BIM Modeler (80,000 VNÄ/giá»)
- ... vÃ  4 ngÆ°á»i ná»¯a

â• **ThÃªm nhÃ¢n sá»± má»›i:**
1. Click "â• ThÃªm NhÃ¢n sá»±"
2. Äiá»n thÃ´ng tin:
   - Há» tÃªn *
   - Email *
   - Chá»©c vá»¥ *
   - LÆ°Æ¡ng theo giá» (VNÄ) *
   - Sá»‘ Ä‘iá»‡n thoáº¡i
   - Tráº¡ng thÃ¡i (Active/Inactive)
3. Click "ThÃªm"

---

### 5. **Quáº£n lÃ½ Nhiá»‡m vá»¥**

**Click "Quáº£n lÃ½ Nhiá»‡m vá»¥" trong sidebar**

âœ… **Danh sÃ¡ch nhiá»‡m vá»¥ hiá»‡n cÃ³:**
- Táº¡o BIM Model Kiáº¿n trÃºc (Completed)
- Kiá»ƒm tra va cháº¡m MEP (In Progress)
- Xuáº¥t báº£n váº½ thi cÃ´ng (Review)
- ... vÃ  6 nhiá»‡m vá»¥ khÃ¡c

**Má»—i nhiá»‡m vá»¥ hiá»ƒn thá»‹:**
- TiÃªu Ä‘á»
- Dá»± Ã¡n
- Giao cho nhÃ¢n viÃªn nÃ o
- Æ¯u tiÃªn (Low/Medium/High/Urgent)
- Tráº¡ng thÃ¡i (Todo/In Progress/Review/Completed)
- Giá» Æ°á»›c tÃ­nh / Giá» thá»±c táº¿

â• **ThÃªm nhiá»‡m vá»¥ má»›i:**
1. Click "â• ThÃªm Nhiá»‡m vá»¥"
2. Äiá»n thÃ´ng tin:
   - TiÃªu Ä‘á» *
   - Chá»n dá»± Ã¡n *
   - Chá»n háº¡ng má»¥c
   - Chá»n bá»™ mÃ´n (Architecture, Structure, MEP, etc.)
   - Giao cho nhÃ¢n viÃªn
   - MÃ´ táº£
   - Sá»‘ giá» Æ°á»›c tÃ­nh
   - Æ¯u tiÃªn
   - Tráº¡ng thÃ¡i
   - Háº¡n hoÃ n thÃ nh
3. Click "ThÃªm"

---

### 6. **Timesheet**

**Click "Timesheet" trong sidebar**

â° **Danh sÃ¡ch timesheet hiá»‡n cÃ³:**
- 10 báº£n ghi timesheet tá»« cÃ¡c nhÃ¢n sá»±
- Má»—i báº£n ghi cÃ³: NhÃ¢n sá»±, Dá»± Ã¡n, Nhiá»‡m vá»¥, NgÃ y lÃ m, Sá»‘ giá», Tráº¡ng thÃ¡i (Pending/Approved)

â• **ThÃªm timesheet má»›i:**
1. Click "â• ThÃªm Timesheet"
2. Äiá»n thÃ´ng tin:
   - Chá»n nhÃ¢n sá»± *
   - Chá»n dá»± Ã¡n *
   - Chá»n nhiá»‡m vá»¥ *
   - NgÃ y lÃ m viá»‡c *
   - Sá»‘ giá» lÃ m viá»‡c *
   - MÃ´ táº£ cÃ´ng viá»‡c
3. Click "ThÃªm"

**âš™ï¸ TÃ­nh nÄƒng tá»± Ä‘á»™ng:**
- Sau khi thÃªm timesheet, sá»‘ giá» thá»±c táº¿ (`actual_hours`) cá»§a nhiá»‡m vá»¥ sáº½ tá»± Ä‘á»™ng cáº­p nháº­t

---

### 7. **Quáº£n lÃ½ Thu Chi**

**Click "Quáº£n lÃ½ Thu Chi" trong sidebar**

ğŸ’° **Danh sÃ¡ch giao dá»‹ch hiá»‡n cÃ³:**
- 10 giao dá»‹ch thu chi
- PhÃ¢n loáº¡i: Income (Doanh thu) / Expense (Chi phÃ­)
- CÃ¡c loáº¡i chi phÃ­: LÆ°Æ¡ng nhÃ¢n viÃªn, LÆ°Æ¡ng chuyÃªn gia, VÄƒn phÃ²ng pháº©m, CÃ´ng tÃ¡c phÃ­, Pháº§n má»m BIM, ThuÃª ngoÃ i, Doanh thu há»£p Ä‘á»“ng

â• **ThÃªm giao dá»‹ch thu chi:**
1. Click "â• ThÃªm Thu Chi"
2. Äiá»n thÃ´ng tin:
   - Chá»n dá»± Ã¡n *
   - Loáº¡i giao dá»‹ch (Income/Expense) *
   - **Chá»n loáº¡i chi phÃ­** (dropdown list)
   - **Hoáº·c click "â• ThÃªm má»›i"** Ä‘á»ƒ táº¡o loáº¡i chi phÃ­ tÃ¹y biáº¿n
   - Sá»‘ tiá»n *
   - NgÃ y giao dá»‹ch *
   - Sá»‘ chá»©ng tá»«
   - MÃ´ táº£
3. Click "ThÃªm"

---

### 8. **â­ Táº¡o Loáº¡i Chi PhÃ­ TÃ¹y Biáº¿n (TÃ­nh nÄƒng Ä‘áº·c biá»‡t!)**

**Trong form "ThÃªm Thu Chi":**

1. Click "â• ThÃªm má»›i" bÃªn cáº¡nh dropdown "Loáº¡i chi phÃ­"
2. Modal "ThÃªm Loáº¡i Chi PhÃ­" sáº½ hiá»‡n lÃªn
3. Äiá»n thÃ´ng tin:
   - **TÃªn loáº¡i chi phÃ­** * (vÃ­ dá»¥: "ThuÃª mÃ¡y tráº¡m")
   - **Danh má»¥c** *:
     - Labor (Chi phÃ­ nhÃ¢n sá»±)
     - Material (Váº­t liá»‡u)
     - Travel (Äi láº¡i)
     - Overhead (Chi phÃ­ chung)
     - Other (KhÃ¡c)
     - Income (Thu nháº­p)
   - **MÃ´ táº£** (tÃ¹y chá»n)
4. Click "ThÃªm"
5. Loáº¡i chi phÃ­ má»›i sáº½ xuáº¥t hiá»‡n ngay trong dropdown!

**Lá»£i Ã­ch:**
- âœ… Táº¡o loáº¡i chi phÃ­ linh hoáº¡t cho tá»«ng dá»± Ã¡n
- âœ… KhÃ´ng cáº§n reload trang
- âœ… PhÃ¢n loáº¡i chi phÃ­ theo danh má»¥c rÃµ rÃ ng
- âœ… TÃ¡i sá»­ dá»¥ng cho cÃ¡c giao dá»‹ch sau

---

## ğŸ¨ GIAO DIá»†N

### MÃ u sáº¯c OneCad:
- **Primary:** #0066CC (Xanh dÆ°Æ¡ng OneCad)
- **Secondary:** #004C99
- **Accent:** #0080FF

### Components:
- âœ… Sidebar navigation vá»›i icons
- âœ… Stats cards vá»›i sá»‘ liá»‡u thá»i gian thá»±c
- âœ… Charts (Chart.js)
- âœ… Tables vá»›i sorting vÃ  filtering
- âœ… Modal forms Ä‘áº¹p máº¯t
- âœ… Status badges mÃ u sáº¯c
- âœ… Responsive design (TailwindCSS)
- âœ… Icons (Font Awesome)

---

## ğŸ”’ ÄÄ‚NG XUáº¤T

**Äá»ƒ Ä‘Äƒng xuáº¥t:**
1. Click vÃ o avatar/tÃªn cá»§a báº¡n á»Ÿ gÃ³c pháº£i trÃªn header
2. Click "ÄÄƒng xuáº¥t"
3. Há»‡ thá»‘ng sáº½ quay vá» mÃ n hÃ¬nh Ä‘Äƒng nháº­p

---

## ğŸ—„ï¸ CÆ  Sá» Dá»® LIá»†U

### Cáº¥u trÃºc database (Cloudflare D1):

**9 báº£ng chÃ­nh:**
1. **staff** - NhÃ¢n sá»±
2. **disciplines** - Bá»™ mÃ´n (Architecture, Structure, MEP...)
3. **expense_types** - Loáº¡i chi phÃ­ (cÃ³ thá»ƒ thÃªm tÃ¹y biáº¿n)
4. **projects** - Dá»± Ã¡n
5. **categories** - Háº¡ng má»¥c cá»§a dá»± Ã¡n
6. **tasks** - Nhiá»‡m vá»¥
7. **timesheets** - Báº£ng cÃ´ng
8. **project_finances** - Thu chi dá»± Ã¡n
9. **project_staff** - PhÃ¢n cÃ´ng nhÃ¢n sá»± cho dá»± Ã¡n

### Dá»¯ liá»‡u máº«u Ä‘Ã£ cÃ³:
- âœ… 3 dá»± Ã¡n
- âœ… 9 háº¡ng má»¥c
- âœ… 8 nhÃ¢n sá»±
- âœ… 9 bá»™ mÃ´n
- âœ… 7 loáº¡i chi phÃ­ (cÃ³ thá»ƒ thÃªm tÃ¹y biáº¿n)
- âœ… 9 nhiá»‡m vá»¥
- âœ… 10 timesheet
- âœ… 10 giao dá»‹ch thu chi

---

## ğŸ”§ TECH STACK

- **Backend:** Hono (TypeScript) - Lightweight web framework
- **Database:** Cloudflare D1 (SQLite)
- **Frontend:** TailwindCSS + Vanilla JavaScript
- **Charts:** Chart.js
- **Icons:** Font Awesome 6
- **HTTP Client:** Axios
- **Authentication:** LocalStorage-based (demo)
- **Deployment:** Cloudflare Pages

---

## ğŸ“¦ FILES STRUCTURE

```
webapp/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.tsx              # Main Hono application
â”œâ”€â”€ public/
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ app.js             # Frontend logic
â”‚       â”œâ”€â”€ modals.js          # Modal templates & handlers
â”‚       â”œâ”€â”€ auth.js            # Authentication system
â”‚       â””â”€â”€ style.css          # Custom styles
â”œâ”€â”€ migrations/
â”‚   â””â”€â”€ 0001_initial_schema.sql  # Database schema
â”œâ”€â”€ dist/                      # Build output (Cloudflare Pages)
â”œâ”€â”€ ecosystem.config.cjs       # PM2 configuration
â”œâ”€â”€ wrangler.jsonc             # Cloudflare configuration
â””â”€â”€ package.json               # Dependencies
```

---

## ğŸš€ DEPLOYMENT

### Option 1: Development (Sandbox - Äang cháº¡y)
```bash
cd /home/user/webapp
npm run build
pm2 start ecosystem.config.cjs
```
**URL:** https://3000-il1ec2okaahgchy9k3855-cbeee0f9.sandbox.novita.ai

### Option 2: Production (Cloudflare Pages)
Xem hÆ°á»›ng dáº«n chi tiáº¿t trong:
- `QUICK_DEPLOY_VIDEO_GUIDE.md`
- `DEPLOY_V2_GUIDE.md`

**LÆ°u Ã½ vá» D1 Database:**
- Xem hÆ°á»›ng dáº«n sá»­a lá»—i: `QUICK_FIX_D1.md` hoáº·c `FINAL_FIX_D1.md`
- DÃ¹ng 6 files SQL tá»‘i Æ°u: `d1-1-tables-oneline.sql` â†’ `d1-6-seed4-oneline.sql`

---

## âœ… TÃNH NÄ‚NG ÄÃƒ HOÃ€N THÃ€NH

### Phase 1:
- âœ… Database schema design
- âœ… API endpoints (20+)
- âœ… Dashboard with charts
- âœ… CRUD cho táº¥t cáº£ modules
- âœ… Seed data Ä‘áº§y Ä‘á»§

### Phase 2a:
- âœ… Modal forms cho táº¥t cáº£ modules
- âœ… **Táº¡o loáº¡i chi phÃ­ tÃ¹y biáº¿n**
- âœ… Form validation
- âœ… Success/Error alerts
- âœ… Auto-refresh data after submit

### Phase 2b (Má»šI):
- âœ… **Login system vá»›i 4 test accounts**
- âœ… **Authentication vá»›i localStorage**
- âœ… **User info display trong header**
- âœ… **Logout functionality**
- âœ… **Session management**

---

## ğŸ“ TRO UBLES SHOOTING

### Váº¥n Ä‘á»: KhÃ´ng tháº¥y modal forms
**Giáº£i phÃ¡p:** Check browser console (F12), Ä‘áº£m báº£o khÃ´ng cÃ³ lá»—i JavaScript

### Váº¥n Ä‘á»: Lá»—i 404 khi load
**Giáº£i phÃ¡p:** ÄÃ¢y lÃ  lá»—i favicon (khÃ´ng áº£nh hÆ°á»Ÿng chá»©c nÄƒng)

### Váº¥n Ä‘á»: Sau khi thÃªm data khÃ´ng tháº¥y cáº­p nháº­t
**Giáº£i phÃ¡p:** Reload trang hoáº·c click láº¡i vÃ o menu sidebar

### Váº¥n Ä‘á»: KhÃ´ng Ä‘Äƒng nháº­p Ä‘Æ°á»£c
**Giáº£i phÃ¡p:** Kiá»ƒm tra username/password chÃ­nh xÃ¡c (xem báº£ng tÃ i khoáº£n test á»Ÿ Ä‘áº§u tÃ i liá»‡u)

---

## ğŸ“ NEXT STEPS

### Phase 3 (Äá» xuáº¥t):
1. âœ… ~~Add authentication~~ (ÄÃ£ hoÃ n thÃ nh)
2. Chi tiáº¿t dá»± Ã¡n vá»›i tabs (Categories, Tasks, Staff, Finances)
3. BÃ¡o cÃ¡o tuáº§n/thÃ¡ng tá»± Ä‘á»™ng
4. Export Excel
5. File Ä‘Ã­nh kÃ¨m (Cloudflare R2)
6. Notifications cho deadline
7. Role-based permissions
8. Email integration
9. Mobile app

---

## ğŸ“ Há»– TRá»¢

- **GitHub:** https://github.com/MrNvNguyen/Web-App
- **Development URL:** https://3000-il1ec2okaahgchy9k3855-cbeee0f9.sandbox.novita.ai
- **Documentation:** README.md, DEPLOYMENT.md, PHASE2A_COMPLETE.md

---

## ğŸ‰ Káº¾T LUáº¬N

**Há»‡ thá»‘ng BIM Management Ä‘Ã£ hoÃ n thiá»‡n vá»›i:**
- âœ… 6 modules chÃ­nh
- âœ… 20+ API endpoints
- âœ… Há»‡ thá»‘ng Ä‘Äƒng nháº­p
- âœ… 4 test accounts
- âœ… Modal forms Ä‘áº§y Ä‘á»§
- âœ… Táº¡o loáº¡i chi phÃ­ tÃ¹y biáº¿n
- âœ… Dashboard vá»›i charts
- âœ… Database Ä‘áº§y Ä‘á»§ dá»¯ liá»‡u máº«u

**Báº N CÃ“ THá»‚:**
1. âœ… ÄÄƒng nháº­p vÃ  test ngay trÃªn development URL
2. âœ… ThÃªm/sá»­a/xÃ³a dá»¯ liá»‡u trÃªn táº¥t cáº£ cÃ¡c modules
3. âœ… Táº¡o loáº¡i chi phÃ­ tÃ¹y biáº¿n
4. âœ… Xem dashboard vá»›i biá»ƒu Ä‘á»“
5. âœ… Deploy lÃªn Cloudflare Pages production

**CHÃšC Báº N Sá»¬ Dá»¤NG THÃ€NH CÃ”NG! ğŸš€**

---

**Developed by:** GenSpark AI Assistant  
**Date:** February 11, 2026  
**Version:** V2.1 - Complete with Authentication  
**Project:** OneCad BIM Management System
